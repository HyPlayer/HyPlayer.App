# GitHub Action for Crowdin Push
name: Crowdin Push

on:
  push:

jobs:
    push:
        runs-on: ubuntu-latest
        steps:
            - name: Checkout
              uses: actions/checkout@v3

            - name: Crowdin Push
              uses: crowdin/github-action@v1
              with:
                config: 'crowdin.yml'
                upload_sources: true
                upload_translations: true
                download_translations: true
                create_pull_request: true
                pull_request_base_branch_name: develop
                localization_branch_name: draft/crowdin/translations
                pull_request_title: '[chore]<translations> Crowdin Translation Update'
                pull_request_body: |
                    > This pull request was automatically generated by the Crowdin GitHub Action.

                    To see what has changed in this pull request, check the file diff.

                    You can checkout [Crowdin Dashboard](https://crowdin.com/project/hyplayer) to see the translation progress.
              env:
                GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
                CROWDIN_PERSONAL_TOKEN: ${{ secrets.CROWDIN_PERSONAL_TOKEN }}